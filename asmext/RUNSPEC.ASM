	OPTION	OFFSET:GROUP
	IFDEF	FARSTCK
SSEG	TEXTEQU	<STACK>
	ELSE
SSEG	TEXTEQU	<DGROUP>
	ENDIF
	PUBLIC	RUNSPEC
	EXTRN	_PUTSTR_&STYPE:CTYPE
	EXTRN	_STRBUF:BYTE
DGROUP	GROUP	ASMEXT_DATA
ASMEXT_TEXT	SEGMENT	PARA	PUBLIC	'CODE'
	ASSUME	CS:ASMEXT_TEXT,DS:DGROUP,ES:NOTHING,SS:SSEG
RUNSPEC	PROC	CTYPE
	PUSH	SI
	PUSH	DI
	MOV	AH,62H
	INT	21H
	MOV	ES,BX
	XOR	DI,DI
	MOV	ES,ES:[DI+2CH]
	XOR	AX,AX
	CLD
CYCLE:	MOV	CX,0FFFFH
	REPNE	SCASB
	SCASB
	JNZ	CYCLE
	ADD	DI,2
	PUSH	DI
	MOV	CX,0FFFFH
	REPNE	SCASB
	DEC	DI
	STD
	MOV	AX,'\'
	MOV	CX,0FFFFH
	REPNE	SCASB
	CLD
	ADD	DI,2
	POP	SI
	SUB	DI,SI
	MOV	CX,DI
	LEA	DI,[_STRBUF]
	PUSH	DS
	PUSH	ES
	POP	DS
	POP	ES
	PUSH	CX
	REP	MOVSB
	PUSH	DS
	PUSH	ES
	POP	DS
	POP	ES
	CALL	_PUTSTR_&STYPE
	ADD	SP,2
	POP	DI
	POP	SI
	RET	2
RUNSPEC	ENDP
ASMEXT_TEXT	ENDS
ASMEXT_DATA	SEGMENT	WORD	PUBLIC	'DATA'
ASMEXT_DATA	ENDS
	IFDEF	FARSTCK
STACK	SEGMENT	PARA	STACK	'STACK'
STACK	ENDS
	ENDIF
	END
