	OPTION	OFFSET:GROUP
	PUBLIC	DOSPRIN,DOSLINP
	EXTRN	_GETSTR:FAR,_PUTSTR:FAR
	EXTRN	STR_BUF:BYTE
DGROUP	GROUP	ASMEXT_DATA
ASMEXT_TEXT	SEGMENT	PARA	PUBLIC	'CODE'
	ASSUME	CS:ASMEXT_TEXT,DS:DGROUP,ES:NOTHING,SS:DGROUP
DOSPRIN	PROC	FAR
	PUSH	BP
	MOV	BP,SP
	PUSH	[BP+6]
	CALL	_GETSTR
	ADD	SP,2
	LEA	DX,[STR_BUF]
	MOV	CX,AX
	MOV	BX,1
	MOV	AH,40H
	INT	21H
	POP	BP
	RET	2
DOSPRIN	ENDP
DOSLINP	PROC	FAR
	PUSH	DI
	MOV	AH,3FH
	XOR	BX,BX
	MOV	CX,256
	LEA	DX,[STR_BUF]
	INT	21H
	MOV	DX,DS
	MOV	ES,DX
	LEA	DI,[STR_BUF]
	MOV	CX,AX
	MOV	AX,0DH
	MOV	DX,256
	REPNE	SCASB
	JNE	@F
	MOV	DX,DI
	SUB	DX,OFFSET STR_BUF
	DEC	DX
	MOV	AX,0AH
	REPNE	SCASB
@@:	PUSH	DX
	TEST	CX,CX
	JZ	@F
	MOV	DX,CX
	NEG	DX
	MOV	CX,0FFFFH
	XOR	BX,BX
	MOV	AX,4201H
	INT	21H
@@:	CALL	_PUTSTR
	ADD	SP,2
	POP	DI
	RET
DOSLINP	ENDP
ASMEXT_TEXT	ENDS
ASMEXT_DATA	SEGMENT	WORD	PUBLIC	'DATA'
ASMEXT_DATA	ENDS
	END
