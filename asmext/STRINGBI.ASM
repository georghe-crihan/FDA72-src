	OPTION	OFFSET:GROUP
	IFDEF	FARSTCK
SSEG	TEXTEQU	<STACK>
	ELSE
SSEG	TEXTEQU	<DGROUP>
	ENDIF
	PUBLIC	_FINSTR_B,_GETSTR_B,_PUTSTR_B,_DELSTR_B
	PUBLIC	_STRBUF
DGROUP	GROUP	ASMEXT_DATA
ASMEXT_TEXT	SEGMENT	PARA	PUBLIC	'CODE'
	ASSUME	CS:ASMEXT_TEXT,DS:DGROUP,ES:NOTHING,SS:SSEG
_FINSTR_B	PROC	CTYPE
	PUSH	BP
	MOV	BP,SP
	MOV	BX,[BP+6]
	MOV	AX,[BX+2]
	IFIDN	DTYPE,<FAR>
	MOV	DX,DS
	ENDIF
	POP	BP
	RET
_FINSTR_B	ENDP
_GETSTR_B	PROC	CTYPE
	PUSH	BP
	PUSH	SI
	PUSH	DI
	MOV	BP,SP
	MOV	BX,[BP+0AH]
	MOV	AX,[BX]
	MOV	SI,[BX+2]
	LEA	DI,[_STRBUF]
	MOV	CX,AX
	REP	MOVSB
	POP	DI
	POP	SI
	POP	BP
	RET
_GETSTR_B	ENDP
_PUTSTR_B	PROC	CTYPE
	PUSH	BP
	MOV	BP,SP
	MOV	AX,[BP+6]
	MOV	[OUTSD],AX
	LEA	AX,[OUTSD]
	IFIDN	DTYPE,<FAR>
	MOV	DX,DS
	ENDIF
	POP	BP
	RET
_PUTSTR_B	ENDP
_DELSTR_B	PROC	FAR
	RET
_DELSTR_B	ENDP
ASMEXT_TEXT	ENDS
ASMEXT_DATA	SEGMENT	WORD	PUBLIC	'DATA'
_STRBUF	DB	256 DUP(?)
OUTSD	DW	?,OFFSET _STRBUF
ASMEXT_DATA	ENDS
	IFDEF	FARSTCK
STACK	SEGMENT	PARA	STACK	'STACK'
STACK	ENDS
	ENDIF
	END
