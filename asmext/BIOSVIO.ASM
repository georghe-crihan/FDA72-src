	OPTION	OFFSET:GROUP
	PUBLIC	BIOSPR,BIOSCHA,BIOSPRX,BIOSLOC,BIOSKEY,BIOSKNW,BIOSFIB
	EXTRN	_GETSTR:FAR
	EXTRN	STR_BUF:BYTE
DGROUP	GROUP	ASMEXT_DATA
ASMEXT_TEXT	SEGMENT	PARA	PUBLIC	'CODE'
	ASSUME	CS:ASMEXT_TEXT,DS:DGROUP,ES:NOTHING,SS:DGROUP
BIOSPR	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
	MOV	BP,SP
	PUSH	[BP+0CH]
	CALL	_GETSTR
	ADD	SP,2
	PUSH	AX
	PUSH	BP
	MOV	AH,0FH
	INT	10H
	POP	BP
	MOV	BL,[BP+0AH]
	POP	CX
	PUSH	AX
	LEA	SI,[STR_BUF]
L1:	LODSB
	MOV	AH,9
	PUSH	CX
	MOV	CX,1
	PUSH	SI
	PUSH	BP
	INT	10H
	MOV	AH,3
	INT	10H
	POP	BP
	INC	DX
	CMP	DL,[BP-1]
	JB	@F
	XOR	DL,DL
	INC	DH
@@:	MOV	AH,2
	PUSH	BP
	INT	10H
	POP	BP
	POP	SI
	POP	CX
	LOOP	L1
	POP	AX
	POP	DI
	POP	SI
	POP	BP
	RET	4
BIOSPR	ENDP
BIOSCHA	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
	MOV	BP,SP
	PUSH	BP
	MOV	AH,0FH
	INT	10H
	POP	BP
	PUSH	AX
	MOV	BL,[BP+0AH]
	PUSH	BP
	MOV	AH,3
	INT	10H
	POP	BP
	PUSH	DX
	SUB	DH,[BP+10H]
	MOV	DL,[BP+0EH]
	PUSH	BP
	MOV	AH,2
	INT	10H
	POP	BP
        MOV	CX,[BP+0CH]
L2:	MOV	AH,8
	PUSH	CX
	PUSH	BP
	INT	10H
	MOV	AH,9
	MOV	CX,1
	INT	10H
	MOV	AH,3
	INT	10H
	POP	BP
	INC	DX
	CMP	DL,[BP-1]
	JB	@F
	XOR	DL,DL
	INC	DH
@@:	MOV	AH,2
	PUSH	BP
	INT	10H
	POP	BP
	POP	CX
	LOOP	L2
	MOV	AH,2
	POP	DX
	INT	10H
	POP	AX
	POP	DI
	POP	SI
	POP	BP
	RET	8
BIOSCHA	ENDP
BIOSPRX	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
	MOV	BP,SP
	PUSH	BP
	MOV	AH,0FH
	INT	10H
	MOV	AH,3
	INT	10H
	POP	BP
	PUSH	BX
	PUSH	DX
	SUB	DH,[BP+10H]
	MOV	DL,[BP+0EH]
	PUSH	BP
	MOV	AH,2
	INT	10H
	POP	BP
	PUSH	[BP+0CH]
	PUSH	[BP+0AH]
	CALL	BIOSPR
	POP	DX
	POP	BX
	MOV	AH,2
	INT	10H
	POP	DI
	POP	SI
	POP	BP
	RET	8
BIOSPRX	ENDP
BIOSLOC	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
	MOV	BP,SP
	PUSH	BP
	MOV	AH,0FH
	INT	10H
	POP	BP
	MOV	AH,2
	MOV	DH,[BP+0CH]
	MOV	DL,[BP+0AH]
	INT	10H
	POP	DI
	POP	SI
	POP	BP
	RET	4
BIOSLOC	ENDP
BIOSKEY	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
	XOR	AX,AX
	INT	16H
	POP	DI
	POP	SI
	POP	BP
	RET
BIOSKEY	ENDP
BIOSKNW	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
	MOV	AH,1
	INT	16H
	MOV	AX,0
	JZ	@F
	INT	16H
@@:	POP	DI
	POP	SI
	POP	BP
	RET
BIOSKNW	ENDP
BIOSFIB	PROC	FAR
	PUSH	BP
	PUSH	SI
	PUSH	DI
@@:	MOV	AH,1
	INT	16H
	JZ	@F
	XOR	AX,AX
	INT	16H
	JMP	SHORT	@B
@@:	POP	DI
	POP	SI
	POP	BP
	RET
BIOSFIB	ENDP
ASMEXT_TEXT	ENDS
ASMEXT_DATA	SEGMENT	WORD	PUBLIC	'DATA'
ASMEXT_DATA	ENDS
	END
